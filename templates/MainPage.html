<!doctype html>
<html lang="en">

<head>
    {% extends "header.html" %}
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"
            integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>

    <title>{% block title %}ë©”ì¸ í˜ì´ì§€{% endblock %}</title>

    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">

    {% block head %}
        {{ super() }}
        <style>
            * {
                font-family: 'Gowun Dodum', sans-serif;
            }

            .mytitle {

                width: 100%;
                height: 350px;

                background-image: linear-gradient(0deg, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("https://www.seouledu.or.kr/images/contents/business03_imgTitleBox.jpg");
                background-position: center;
                background-size: cover;

                color: white;

                display: flex;
                flex-direction: column;
                justify-content: center;
            }


            h1.relative {
                position: relative;
                left: 130px;
            }


            h6.relative {
                position: relative;
                left: 130px;
            }

            .wrap {
                max-width: 1200px;
                width: 95%;
                margin: 20px auto 0px auto;
            }

            .navbar-nav {
                width: 100%;
                display: inline-block;
            }


            .left-tab {
                float: left;
                display: inline-block;
            }


            .right-tab {
                float: right;
                display: inline-block;
            }


            .search_wrap {
                width: 400px;

                display: flex;
                flex-direction: row;
                justify-content: center;
            }


            tr, td {
                height: 150px;
                padding: 30px 200px;
            }

            table {
                border: 1px;
                width: 100%;
                background-color: #F2F2F2;
            }

        </style>


        <script>
            $(document).ready(function () {
                posts_list();
            })

            function includeHTML() {
                var z, i, elmnt, file, xhttp;
                /* ëª¨ë“  HTML ìš”ì†Œ ì»¬ë ‰ì…˜ì„ í†µí•´ ë£¨í”„ */
                z = document.getElementsByTagName("*");
                for (i = 0; i < z.length; i++) {
                    elmnt = z[i];
                    /*íŠ¹ì • ì†ì„±ì„ ê°€ì§„ ìš”ì†Œ ê²€ìƒ‰*/
                    file = elmnt.getAttribute("w3-include-html");
                    if (file) {
                        /* ì†ì„± ê°’ì„ íŒŒì¼ ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©í•˜ì—¬ HTTP ìš”ì²­ ë§Œë“¤ê¸° */
                        xhttp = new XMLHttpRequest();
                        xhttp.onreadystatechange = function () {
                            if (this.readyState == 4) {
                                if (this.status == 200) {
                                    elmnt.innerHTML = this.responseText;
                                }
                                if (this.status == 404) {
                                    elmnt.innerHTML = "Page not found.";
                                }
                                /* ì†ì„±ì„ ì œê±°í•˜ê³  ì´ í•¨ìˆ˜ë¥¼ í•œ ë²ˆ ë” í˜¸ì¶œí•©ë‹ˆë‹¤. */
                                elmnt.removeAttribute("w3-include-html");
                                includeHTML();
                            }
                        }
                        xhttp.open("GET", file, true);
                        xhttp.send();

                        return;
                    }
                }

            }

            function posts_list() {
                $.ajax({
                    type: "GET",
                    url: "/udongdong/posts",
                    data: {},
                    success: function (response) {
                        let posts_list = response['posts_list'];
                        let temp_html = ``

                        for (let i = 0; i < posts_list.length; i++) {
                            let img = posts_list[i]['img'];
                            let group_name = posts_list[i]['group_name'];
                            let address = posts_list[i]['address'];
                            let content = posts_list[i]['content'];
                            let id = posts_list[i]['id']

                            temp_html = `<div class="col">
                                                <div class="card" style="width: 18rem;">
                                                    <img src="${img}" class="card-img-top" alt="..." weight="300" height="400">
                                                    <div class="card-body">
                                                        <h5 class="card-title">${group_name}&nbsp<a href="/udongdong/delete?group_name=${group_name}">ğŸ—‘</a></h5>
                                                        <p class="card-text">${group_name} ë™ì•„ë¦¬ì…ë‹ˆë‹¤.</p>
                                                        <a href="/udongdong/view_content?group_name=${group_name}&img=${img}&address=${address}&content=${content}&id=${id}" class="btn btn-primary">ì†Œê°œê¸€ ë³´ëŸ¬ê°€ê¸°</a>
                                                    </div>
                                                </div>
                                            </div>`;

                            $('#cards-box').append(temp_html);

                        }

                    }
                })
            }

        </script>
    {% endblock %}
</head>

<body>

{% block content %}
    <div class="wrap">
        <div id="cards-box" class="row row-cols-1 row-cols-md-3 g-3">

        </div>
    </div>
{% endblock %}

</div>
<div id="footer"></div>

<div w3-include-html="footer.html"></div>

<script>
    window.addEventListener('DOMContentLoaded', () => {
        includeHTML();
    });
</script>
<footer>
    <table>
        <tr>
            <td>
                <b>ìƒí˜¸ëª…</b>
                &nbsp;&nbsp;ìš°ë™ë™<br>
                <b>ëŒ€í‘œ</b>
                &nbsp;&nbsp;ì§„ì„¸í›ˆ<br>
                <b>ê°œì¸ì •ë³´ê´€ë¦¬ì±…ì„ì</b>
                &nbsp;&nbsp;ë°•ì„±ìš°<br>
                <b>ì „í™”</b>
                &nbsp;&nbsp;010-1234-5678<br>
                <b>ì´ë©”ì¼</b>
                &nbsp;&nbsp;info@udongdong.com<br>
            </td>

            <td>
                <b>ê³ ê°ì„¼í„°</b>
                &nbsp;&nbsp;010-1234-5678(ì±…ì„ì:ê¹€ì •ì€)<br>
                <br>
                ì„œë¹„ìŠ¤ ì´ìš©ì•½ê´€
                <br><br>
                ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨
            </td>
        </tr>

        <tr>
            <td colspan="2" style="text-align: center;">
                ì„œë¹„ìŠ¤ì— ëŒ€í•œ ëª¨ë“  ì±…ì„ì€ "9ê¸° Bë°˜ 5ì¡°"ì— ìˆìŠµë‹ˆë‹¤.<br>
                <B>Copyright â’¸ 2022 udongdong All rights reserved</B><br>
            </td>
        </tr>
    </table>
</footer>
</body>
</html>